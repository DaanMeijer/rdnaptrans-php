Quick and possibly dirty port of the javascript port of the java port of the c++ program RDNAPTrans.